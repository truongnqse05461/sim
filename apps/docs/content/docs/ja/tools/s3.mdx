---
title: S3
description: S3ファイルのアップロード、ダウンロード、一覧表示、管理
---

import { BlockInfoCard } from "@/components/ui/block-info-card"

<BlockInfoCard 
  type="s3"
  color="#E0E0E0"
  icon={true}
  iconSvg={`<svg className="block-icon"
    
    
    preserveAspectRatio='xMidYMid'
    viewBox='0 0 256 310'
    
    xmlns='http://www.w3.org/2000/svg'
  >
    <path d='m20.624 53.686-20.624 10.314v181.02l20.624 10.254.124-.149v-201.297z' fill='#8c3123' />
    <path d='m131 229-110.376 26.274v-201.588l110.376 25.701z' fill='#e05243' />
    <path d='m81.178 187.866 46.818 5.96.294-.678.263-76.77-.557-.6-46.818 5.874z' fill='#8c3123' />
    <path
      d='m127.996 229.295 107.371 26.035.169-.269-.003-201.195-.17-.18-107.367 25.996z'
      fill='#8c3123'
    />
    <path d='m174.827 187.866-46.831 5.96v-78.048l46.831 5.874z' fill='#e05243' />
    <path d='m174.827 89.631-46.831 8.535-46.818-8.535 46.759-12.256z' fill='#5e1f18' />
    <path d='m174.827 219.801-46.831-8.591-46.818 8.591 46.761 13.053z' fill='#f2b0a9' />
    <path
      d='m81.178 89.631 46.818-11.586.379-.117v-77.615l-.379-.313-46.818 23.413z'
      fill='#8c3123'
    />
    <path d='m174.827 89.631-46.831-11.586v-78.045l46.831 23.413z' fill='#e05243' />
    <path
      d='m127.996 309.428-46.823-23.405v-66.217l46.823 11.582.689.783-.187 75.906z'
      fill='#8c3123'
    />
    <g fill='#e05243'>
      <path d='m127.996 309.428 46.827-23.405v-66.217l-46.827 11.582z' />
      <path d='m235.367 53.686 20.633 10.314v181.02l-20.633 10.31z' />
    </g>
  </svg>`}
/>

{/* MANUAL-CONTENT-START:intro */}
[Amazon S3](https://aws.amazon.com/s3/)はAmazon Web Servicesが提供する高度にスケーラブルで安全、かつ耐久性のあるクラウドストレージサービスです。ウェブ上のどこからでも任意の量のデータを保存および取得できるように設計されており、あらゆる規模のビジネスで最も広く使用されているクラウドストレージソリューションの一つです。

Amazon S3では以下のことが可能です：

- **無制限のデータ保存**: 事実上無制限のストレージ容量で、あらゆるサイズと種類のファイルをアップロード
- **どこからでもアクセス**: 世界中のどこからでも低レイテンシーでファイルを取得
- **データの耐久性を確保**: 自動データレプリケーションによる99.999999999%（11個の9）の耐久性
- **アクセス制御**: きめ細かいセキュリティポリシーによるアクセス権限の管理
- **自動スケーリング**: 手動介入や容量計画なしに変動するワークロードに対応
- **シームレスな統合**: 他のAWSサービスやサードパーティアプリケーションと簡単に連携
- **コスト最適化**: アクセスパターンに基づいて複数のストレージクラスから選択し、コストを最適化

Simでは、S3統合によりエージェントがAmazon S3バケットに保存されたファイルを安全な署名付きURLを使用して取得・アクセスできるようになります。これにより、ドキュメント処理、保存データの分析、設定ファイルの取得、ワークフローの一部としてのメディアコンテンツへのアクセスなど、強力な自動化シナリオが可能になります。エージェントはAWS認証情報を公開することなくS3からファイルを安全に取得できるため、クラウドに保存されたアセットを自動化プロセスに簡単に組み込むことができます。この統合により、クラウドストレージとAIワークフローの間のギャップが埋められ、AWSの堅牢な認証メカニズムによるセキュリティのベストプラクティスを維持しながら、保存データへのシームレスなアクセスが可能になります。
{/* MANUAL-CONTENT-END */}

## 使用手順

S3をワークフローに統合します。ファイルのアップロード、オブジェクトのダウンロード、バケットの内容一覧表示、オブジェクトの削除、バケット間でのオブジェクトのコピーが可能です。AWSアクセスキーとシークレットアクセスキーが必要です。

## ツール

### `s3_put_object`

AWS S3バケットにファイルをアップロードする

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `accessKeyId` | string | はい | AWSアクセスキーID |
| `secretAccessKey` | string | はい | AWSシークレットアクセスキー |
| `region` | string | はい | AWSリージョン（例：us-east-1） |
| `bucketName` | string | はい | S3バケット名 |
| `objectKey` | string | はい | S3内のオブジェクトキー/パス（例：folder/filename.ext） |
| `file` | file | いいえ | アップロードするファイル |
| `content` | string | いいえ | アップロードするテキストコンテンツ（ファイルの代わり） |
| `contentType` | string | いいえ | Content-Typeヘッダー（指定がない場合はファイルから自動検出） |
| `acl` | string | いいえ | アクセスコントロールリスト（例：private, public-read） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `url` | string | アップロードされたS3オブジェクトのURL |
| `metadata` | object | ETagと場所を含むアップロードメタデータ |

### `s3_get_object`

AWS S3バケットからオブジェクトを取得する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `accessKeyId` | string | はい | AWSアクセスキーID |
| `secretAccessKey` | string | はい | AWSシークレットアクセスキー |
| `s3Uri` | string | はい | S3オブジェクトURL |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `url` | string | S3オブジェクトをダウンロードするための署名付きURL |
| `metadata` | object | タイプ、サイズ、名前、最終更新日を含むファイルメタデータ |

### `s3_list_objects`

AWS S3バケット内のオブジェクトを一覧表示する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `accessKeyId` | string | はい | AWS アクセスキーID |
| `secretAccessKey` | string | はい | AWS シークレットアクセスキー |
| `region` | string | はい | AWSリージョン（例：us-east-1） |
| `bucketName` | string | はい | S3バケット名 |
| `prefix` | string | いいえ | オブジェクトをフィルタリングするプレフィックス（例：folder/） |
| `maxKeys` | number | いいえ | 返すオブジェクトの最大数（デフォルト：1000） |
| `continuationToken` | string | いいえ | ページネーション用トークン |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `objects` | array | S3オブジェクトのリスト |

### `s3_delete_object`

AWS S3バケットからオブジェクトを削除する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `accessKeyId` | string | はい | AWS アクセスキーID |
| `secretAccessKey` | string | はい | AWS シークレットアクセスキー |
| `region` | string | はい | AWSリージョン（例：us-east-1） |
| `bucketName` | string | はい | S3バケット名 |
| `objectKey` | string | はい | 削除するオブジェクトのキー/パス |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `deleted` | boolean | オブジェクトが正常に削除されたかどうか |
| `metadata` | object | 削除メタデータ |

### `s3_copy_object`

AWS S3バケット内または異なるバケット間でオブジェクトをコピーする

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `accessKeyId` | string | はい | AWS アクセスキーID |
| `secretAccessKey` | string | はい | AWS シークレットアクセスキー |
| `region` | string | はい | AWSリージョン（例：us-east-1） |
| `sourceBucket` | string | はい | ソースバケット名 |
| `sourceKey` | string | はい | ソースオブジェクトのキー/パス |
| `destinationBucket` | string | はい | 宛先バケット名 |
| `destinationKey` | string | はい | 宛先オブジェクトのキー/パス |
| `acl` | string | いいえ | コピーされたオブジェクトのアクセス制御リスト（例：private、public-read） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `url` | string | コピーされたS3オブジェクトのURL |
| `metadata` | object | コピー操作のメタデータ |

## 注意事項

- カテゴリー: `tools`
- タイプ: `s3`
